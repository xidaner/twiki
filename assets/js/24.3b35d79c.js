(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{815:function(r,e,t){"use strict";t.r(e);var s=t(112),a=Object(s.a)({},(function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[t("center",[t("h1",[r._v("启用插件缓存")])]),r._v(" "),t("hr"),r._v(" "),t("p",[r._v("在刚刚进行 init 初始化时，Terraform 会根据 tf 文件内的 Provider 下载对应的插件，这些插件往往体积比较大。")]),r._v(" "),t("p",[r._v("例如上面初始化时下载的 AWS Provider 体积就有两百多兆，如果不启用插件缓存，那么在每个 Terraform 项目中都会反复下载这些插件，就很浪费磁盘空间与流量，因此建议将插件缓存开启。")]),r._v(" "),t("p",[r._v('Windows 下是在相关用户的 %APPDATA% 目录下创建名为 "terraform.rc" 的文件，Macos 和 Linux 用户则是在用户的 home 下创建名为 ".terraformrc" 的文件')]),r._v(" "),t("p",[r._v(".terraformrc 文件内容为：")]),r._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[r._v("plugin_cache_dir = "),t("span",{pre:!0,attrs:{class:"token string"}},[r._v('"$HOME/.terraform.d/plugin-cache"')]),r._v("\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br")])]),t("p",[r._v('这样每次下载 Provider 插件时，就会下载到 "$HOME/.terraform.d/plugin-cache" 目录下了。')]),r._v(" "),t("p",[r._v("不过 Terraform 不会主动清理这个文件夹，因此可能随着插件版本的更迭，这个文件夹内会保存一些历史版本的 Provider 插件，这时就需要自己手动清理一下了。")]),r._v(" "),t("Vssue")],1)}),[],!1,null,null,null);e.default=a.exports}}]);